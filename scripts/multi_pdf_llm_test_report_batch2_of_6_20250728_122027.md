# 🔬 多PDF多模型发票文本提取测试报告

**测试时间**: 2025-07-28 12:20:27  
**测试目录**: `invoices_20250326171507`  
**PDF文件数量**: 5 个  
**成功处理**: 5 个  
**处理失败**: 0 个  
**整体成功率**: 100%  
**测试模型**: 4 个

## 📊 模型整体性能统计

| 模型名称 | 提供商 | 成功处理 | 成功率 | 平均处理时间 | 平均质量评分 |
|----------|--------|----------|--------|--------------|--------------|
| **Gemini 2.0 Flash** | Google | 5/5 | 100% | 2.4s | 69.6/100 |
| **Claude 3 Haiku** | Anthropic | 4/5 | 80% | 2.7s | 73.8/100 |
| **Qwen 2.5 72B** | 阿里云 | 5/5 | 100% | 4.7s | 76.2/100 |
| **Mistral Nemo** | Mistral AI | 5/5 | 100% | 6.4s | 76.2/100 |

## 📄 PDF文件详细测试结果

| 文件名 | 文本长度 | Gemini 2.0 | Claude 3 Haiku | Qwen 2.5 72B | Mistral Nemo | 成功模型数 |
|--------|----------|------------|----------------|--------------|--------------|------------|
| `2025-03-06-国家税务总局-296.00-253691254030...` | 201字符 | ✅ | ✅ | ✅ | ✅ | 4/4 |
| `2025-03-06-国家税务总局-377.00-254291658480...` | 205字符 | ✅ | ✅ | ✅ | ✅ | 4/4 |
| `2025-03-06-国家税务总局-57.50-2542916581800...` | 201字符 | ✅ | ❌ | ✅ | ✅ | 3/4 |
| `2025-03-06-国家税务总局湖南省税务局-379.50-254391...` | 331字符 | ✅ | ✅ | ✅ | ✅ | 4/4 |
| `2025-03-06-娄底市娄星区萝卜餐饮店-1018.00-254320...` | 386字符 | ✅ | ✅ | ✅ | ✅ | 4/4 |

## 🔍 所有文件关键字段提取详细结果

### 1. 2025-03-06-国家税务总局-296.00-25369125403000228801.pdf

| 字段名称 | Gemini 2.0 Flash | Claude 3 Haiku | Qwen 2.5 72B | Mistral Nemo |
|----------|----------|----------|----------|----------|
| **发票号码** | - | `25369125403000228801` | `25369125403000228801` | `25369125403000228801` |
| **开票日期** | `2025-03-06` | `2025-03-06` | `2025-03-06` | `2025-03-06` |
| **总金额** | `296` | `296` | `296` | `296` |
| **销售方** | - | `Nanchangxi` | `Nanchangxi` | `Nanchangxi` |

### 2. 2025-03-06-国家税务总局-377.00-25429165848000614665.pdf

| 字段名称 | Gemini 2.0 Flash | Claude 3 Haiku | Qwen 2.5 72B | Mistral Nemo |
|----------|----------|----------|----------|----------|
| **发票号码** | `25429165848000614665` | `25429165848000614665` | `65848760860303991932` | `25429165848000614665` |
| **开票日期** | `2025-03-03` | `2025-03-03` | `2025-03-06` | `2025-03-03` |
| **总金额** | `377` | `377` | `377` | `377` |
| **销售方** | `12306` | `Guangzhounan` | `Guangzhounan` | `广州南` |

### 3. 2025-03-06-国家税务总局-57.50-25429165818000393965.pdf

| 字段名称 | Gemini 2.0 Flash | Claude 3 Haiku | Qwen 2.5 72B | Mistral Nemo |
|----------|----------|----------|----------|----------|
| **发票号码** | `6581876086030390843592025` | - | `65818760860303908435` | `25429165818000393965` |
| **开票日期** | `2025-03-03` | - | `2025-03-06` | `2025-03-03` |
| **总金额** | `57.5` | - | `57.5` | `57.5` |
| **销售方** | `12306` | - | `Loudinan` | `Changshanan` |

### 4. 2025-03-06-国家税务总局湖南省税务局-379.50-25439165666000015358.pdf

| 字段名称 | Gemini 2.0 Flash | Claude 3 Haiku | Qwen 2.5 72B | Mistral Nemo |
|----------|----------|----------|----------|----------|
| **发票号码** | `25439165666000015358` | `25439165666000015358` | `25439165666000015358` | `25439165666000015358` |
| **开票日期** | `2025-03-06` | `2025-03-06` | `2025-03-06` | `2025-03-06` |
| **总金额** | `379.5` | `379.5` | `379.5` | `379.5` |
| **销售方** | `中国铁路` | `中国铁路` | `中国铁路` | `国 家 税 务 总 局 全 国 统 一 发 票 监 制 章 局 务 税 省 南 湖` |

### 5. 2025-03-06-娄底市娄星区萝卜餐饮店-1018.00-25432000000029373425.pdf

| 字段名称 | Gemini 2.0 Flash | Claude 3 Haiku | Qwen 2.5 72B | Mistral Nemo |
|----------|----------|----------|----------|----------|
| **发票号码** | `25432000000029373425` | `25432000000029373425` | `25432000000029373425` | `25432000000029373425` |
| **开票日期** | `2025-03-06` | `2025-03-06` | `2025-03-06` | `2025-03-06` |
| **总金额** | `1018` | `1018` | `1018` | `1018` |
| **销售方** | `杭州趣链科技有限公司` | `杭州趣链科技有限公司` | `杭州趣链科技有限公司` | `杭州趣链科技有限公司` |


## 📝 所有文件详细解析结果

### 📄 文件 1: 2025-03-06-国家税务总局-296.00-25369125403000228801.pdf

**文本长度**: 201 字符

#### 各模型完整解析结果

##### Gemini 2.0 Flash - 成功提取 5 个字段

- **开票日期**: `2025-03-06`
- **总金额**: `296`
- **商品名称**: `D3287`
- **发票类型**: `火车票`
- **销售方税号**: `91330108MA27Y5XH5G`

**验证信息**:
- 完整性评分: 43%
- 数据有效性: ❌ 无效
- 处理时间: 2.43秒
- 缺失字段: invoice_number, seller_name

##### Claude 3 Haiku - 成功提取 6 个字段

- **发票号码**: `25369125403000228801`
- **开票日期**: `2025-03-06`
- **销售方**: `Nanchangxi`
- **购买方**: `Quanzhou`
- **总金额**: `296`
- **销售方税号**: `91330108MA27Y5XH5G`

**验证信息**:
- 完整性评分: 71%
- 数据有效性: ✅ 有效
- 处理时间: 2.12秒

##### Qwen 2.5 72B - 成功提取 8 个字段

- **发票号码**: `25369125403000228801`
- **开票日期**: `2025-03-06`
- **销售方**: `Nanchangxi`
- **购买方**: `Quanzhou`
- **总金额**: `296`
- **商品名称**: `D3287`
- **销售方税号**: `91330108MA27Y5XH5G`
- **购买方税号**: `2540376086030799797022025`

**验证信息**:
- 完整性评分: 86%
- 数据有效性: ✅ 有效
- 处理时间: 4.19秒

##### Mistral Nemo - 成功提取 12 个字段

- **发票号码**: `25369125403000228801`
- **开票日期**: `2025-03-06`
- **销售方**: `Nanchangxi`
- **购买方**: `Quanzhou`
- **总金额**: `296`
- **大写金额**: `贰佰玖拾陆元整`
- **税额**: `0`
- **税率**: `0`
- **商品名称**: `D3287`
- **发票类型**: `增值税专用发票`
- **销售方税号**: `91330108MA27Y5XH5G`
- **购买方税号**: `3207051981****2012`

**验证信息**:
- 完整性评分: 86%
- 数据有效性: ✅ 有效
- 处理时间: 7.61秒

---

### 📄 文件 2: 2025-03-06-国家税务总局-377.00-25429165848000614665.pdf

**文本长度**: 205 字符

#### 各模型完整解析结果

##### Gemini 2.0 Flash - 成功提取 8 个字段

- **发票号码**: `25429165848000614665`
- **开票日期**: `2025-03-03`
- **销售方**: `12306`
- **购买方**: `3207051981****2012`
- **总金额**: `377`
- **商品名称**: `G814`
- **发票类型**: `火车票`
- **销售方税号**: `91330108MA27Y5XH5G`

**验证信息**:
- 完整性评分: 86%
- 数据有效性: ✅ 有效
- 处理时间: 2.38秒

##### Claude 3 Haiku - 成功提取 6 个字段

- **发票号码**: `25429165848000614665`
- **开票日期**: `2025-03-03`
- **销售方**: `Guangzhounan`
- **购买方**: `Changshanan`
- **总金额**: `377`
- **销售方税号**: `91330108MA27Y5XH5G`

**验证信息**:
- 完整性评分: 71%
- 数据有效性: ✅ 有效
- 处理时间: 3.03秒

##### Qwen 2.5 72B - 成功提取 8 个字段

- **发票号码**: `65848760860303991932`
- **开票日期**: `2025-03-06`
- **销售方**: `Guangzhounan`
- **购买方**: `Changshanan`
- **总金额**: `377`
- **商品名称**: `G814`
- **销售方税号**: `91330108MA27Y5XH5G`
- **购买方税号**: `3207051981****2012`

**验证信息**:
- 完整性评分: 86%
- 数据有效性: ✅ 有效
- 处理时间: 3.70秒

##### Mistral Nemo - 成功提取 12 个字段

- **发票号码**: `25429165848000614665`
- **开票日期**: `2025-03-03`
- **销售方**: `广州南`
- **购买方**: `长沙南`
- **总金额**: `377`
- **大写金额**: `三百七十七元整`
- **税额**: `0`
- **税率**: `0`
- **商品名称**: `G814`
- **发票类型**: `增值税专用发票`
- **销售方税号**: `91330108MA27Y5XH5G`
- **购买方税号**: `3207051981****2012`

**验证信息**:
- 完整性评分: 86%
- 数据有效性: ✅ 有效
- 处理时间: 7.60秒

---

### 📄 文件 3: 2025-03-06-国家税务总局-57.50-25429165818000393965.pdf

**文本长度**: 201 字符

#### 各模型完整解析结果

##### Gemini 2.0 Flash - 成功提取 7 个字段

- **发票号码**: `6581876086030390843592025`
- **开票日期**: `2025-03-03`
- **销售方**: `12306`
- **购买方**: `3207051981****2012`
- **总金额**: `57.5`
- **商品名称**: `G1421`
- **销售方税号**: `91330108MA27Y5XH5G`

**验证信息**:
- 完整性评分: 86%
- 数据有效性: ✅ 有效
- 处理时间: 2.31秒

##### Claude 3 Haiku - ❌ 解析失败

**错误信息**: API调用失败: 500 - {"success":false,"error":"LLM字段提取失败: Expected ',' or '}' after property value in JSON at position 256 (line 9 column 25)","timestamp":"2025-07-28T12:19:35.148Z"}

##### Qwen 2.5 72B - 成功提取 8 个字段

- **发票号码**: `65818760860303908435`
- **开票日期**: `2025-03-06`
- **销售方**: `Loudinan`
- **购买方**: `Changshanan`
- **总金额**: `57.5`
- **商品名称**: `G1421`
- **销售方税号**: `91330108MA27Y5XH5G`
- **购买方税号**: `3207051981****2012`

**验证信息**:
- 完整性评分: 86%
- 数据有效性: ✅ 有效
- 处理时间: 5.00秒

##### Mistral Nemo - 成功提取 12 个字段

- **发票号码**: `25429165818000393965`
- **开票日期**: `2025-03-03`
- **销售方**: `Changshanan`
- **购买方**: `Loudinan`
- **总金额**: `57.5`
- **大写金额**: `五十七元五角`
- **税额**: `0`
- **税率**: `0`
- **商品名称**: `G1421`
- **发票类型**: `13D`
- **销售方税号**: `3207051981****2012`
- **购买方税号**: `6581876086030390843592025`

**验证信息**:
- 完整性评分: 86%
- 数据有效性: ✅ 有效
- 处理时间: 5.04秒

---

### 📄 文件 4: 2025-03-06-国家税务总局湖南省税务局-379.50-25439165666000015358.pdf

**文本长度**: 331 字符

#### 各模型完整解析结果

##### Gemini 2.0 Flash - 成功提取 8 个字段

- **发票号码**: `25439165666000015358`
- **开票日期**: `2025-03-06`
- **销售方**: `中国铁路`
- **购买方**: `杭州趣链科技有限公司`
- **总金额**: `379.5`
- **商品名称**: `G2142 娄底南 站 南昌西 站 一等座`
- **发票类型**: `电子发票（铁路电子客票）`
- **购买方税号**: `91330108MA27Y5XH5G`

**验证信息**:
- 完整性评分: 86%
- 数据有效性: ✅ 有效
- 处理时间: 2.63秒

##### Claude 3 Haiku - 成功提取 8 个字段

- **发票号码**: `25439165666000015358`
- **开票日期**: `2025-03-06`
- **销售方**: `中国铁路`
- **购买方**: `杭州趣链科技有限公司`
- **总金额**: `379.5`
- **商品名称**: `铁路电子客票`
- **发票类型**: `电子发票`
- **购买方税号**: `91330108MA27Y5XH5G`

**验证信息**:
- 完整性评分: 86%
- 数据有效性: ✅ 有效
- 处理时间: 2.37秒

##### Qwen 2.5 72B - 成功提取 10 个字段

- **发票号码**: `25439165666000015358`
- **开票日期**: `2025-03-06`
- **销售方**: `中国铁路`
- **购买方**: `杭州趣链科技有限公司`
- **总金额**: `379.5`
- **税额**: `0`
- **税率**: `0`
- **商品名称**: `一等座`
- **发票类型**: `电子发票（铁路电子客票）`
- **购买方税号**: `91330108MA27Y5XH5G`

**验证信息**:
- 完整性评分: 86%
- 数据有效性: ✅ 有效
- 处理时间: 4.92秒

##### Mistral Nemo - 成功提取 11 个字段

- **发票号码**: `25439165666000015358`
- **开票日期**: `2025-03-06`
- **销售方**: `国 家 税 务 总 局 全 国 统 一 发 票 监 制 章 局 务 税 省 南 湖`
- **购买方**: `杭州趣链科技有限公司`
- **总金额**: `379.5`
- **大写金额**: `三百七十九点五`
- **税额**: `0`
- **税率**: `0`
- **商品名称**: `一等座`
- **发票类型**: `电子发票（铁路电子客票）`
- **购买方税号**: `91330108MA27Y5XH5G`

**验证信息**:
- 完整性评分: 86%
- 数据有效性: ✅ 有效
- 处理时间: 5.95秒

---

### 📄 文件 5: 2025-03-06-娄底市娄星区萝卜餐饮店-1018.00-25432000000029373425.pdf

**文本长度**: 386 字符

#### 各模型完整解析结果

##### Gemini 2.0 Flash - 成功提取 12 个字段

- **发票号码**: `25432000000029373425`
- **开票日期**: `2025-03-06`
- **销售方**: `杭州趣链科技有限公司`
- **购买方**: `娄底市娄星区萝卜餐饮店`
- **总金额**: `1018`
- **大写金额**: `壹仟零壹拾捌圆整`
- **税额**: `10.08`
- **税率**: `0.01`
- **商品名称**: `*餐饮服务*餐饮费`
- **发票类型**: `电子发票（普通发票）`
- **销售方税号**: `91330108MA27Y5XH5G`
- **购买方税号**: `92431302MA4QP59721`

**验证信息**:
- 完整性评分: 100%
- 数据有效性: ✅ 有效
- 处理时间: 2.48秒

##### Claude 3 Haiku - 成功提取 12 个字段

- **发票号码**: `25432000000029373425`
- **开票日期**: `2025-03-06`
- **销售方**: `杭州趣链科技有限公司`
- **购买方**: `娄底市娄星区萝卜餐饮店`
- **总金额**: `1018`
- **大写金额**: `壹仟零壹拾捌圆整`
- **税额**: `10.08`
- **税率**: `1`
- **商品名称**: `餐饮服务`
- **发票类型**: `电子发票（普通发票）`
- **销售方税号**: `91330108MA27Y5XH5G`
- **购买方税号**: `92431302MA4QP59721`

**验证信息**:
- 完整性评分: 100%
- 数据有效性: ✅ 有效
- 处理时间: 3.15秒

##### Qwen 2.5 72B - 成功提取 12 个字段

- **发票号码**: `25432000000029373425`
- **开票日期**: `2025-03-06`
- **销售方**: `杭州趣链科技有限公司`
- **购买方**: `娄底市娄星区萝卜餐饮店`
- **总金额**: `1018`
- **大写金额**: `壹仟零壹拾捌圆整`
- **税额**: `10.08`
- **税率**: `0.01`
- **商品名称**: `餐饮服务*餐饮费`
- **发票类型**: `电子发票（普通发票）`
- **销售方税号**: `91330108MA27Y5XH5G`
- **购买方税号**: `92431302MA4QP59721`

**验证信息**:
- 完整性评分: 100%
- 数据有效性: ✅ 有效
- 处理时间: 5.56秒

##### Mistral Nemo - 成功提取 12 个字段

- **发票号码**: `25432000000029373425`
- **开票日期**: `2025-03-06`
- **销售方**: `杭州趣链科技有限公司`
- **购买方**: `娄底市娄星区萝卜餐饮店`
- **总金额**: `1018`
- **大写金额**: `壹仟零壹拾捌圆整`
- **税额**: `10.08`
- **税率**: `0.01`
- **商品名称**: `餐饮服务`
- **发票类型**: `电子发票（普通发票）`
- **销售方税号**: `91330108MA27Y5XH5G`
- **购买方税号**: `92431302MA4QP59721`

**验证信息**:
- 完整性评分: 100%
- 数据有效性: ✅ 有效
- 处理时间: 5.68秒

---


## 📈 数据统计分析

### 发票类型分布
- **电子发票（普通发票）**: 4 次
- **电子发票（铁路电子客票）**: 3 次
- **火车票**: 2 次
- **增值税专用发票**: 2 次
- **13D**: 1 次

### 主要销售方（前5名）
- **杭州趣链科技有限公司**: 4 次
- **Nanchangxi**: 3 次
- **中国铁路**: 3 次
- **12306**: 2 次
- **Guangzhounan**: 2 次

## 🔧 测试环境

- **PDF文本提取**: Supabase Edge Function (PDF.js)
- **LLM API**: OpenRouter
- **测试脚本**: Node.js
- **文档格式**: 中文电子发票
- **并发处理**: 顺序处理，避免API限制
- **测试模型**: 4个高性能免费模型

---
*报告生成时间: 2025-07-28 12:20:27*  
*测试目录: invoices_20250326171507*  
*处理文件数: 5 个PDF*
