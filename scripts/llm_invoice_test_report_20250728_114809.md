# 🔬 多模型发票文本提取测试报告

**测试时间**: 2025-07-28 11:48:09  
**测试文件**: `25432000000022020617-杭州趣链科技有限公司.pdf`  
**PDF文本长度**: 370 字符  
**测试模型数量**: 8 个  
**成功率**: 50% (4/8)

## 📊 模型性能排名

| 排名 | 模型名称 | 提供商 | 质量评分 | 完整性 | 字段数 | 处理时间 | 状态 |
|------|----------|--------|----------|--------|--------|----------|------|
|  1 | **Gemini 2.0 Flash** | Google | 85/100 | 100% | 12个 | 2.1s | ✅ 成功 |
|  2 | **Qwen 2.5 72B** | 阿里云 | 85/100 | 100% | 12个 | 4.9s | ✅ 成功 |
|  3 | **Mistral Nemo** | Mistral AI | 85/100 | 100% | 12个 | 5.9s | ✅ 成功 |
|  4 | **Claude 3 Haiku** | Anthropic | 85/100 | 100% | 12个 | 2.9s | ✅ 成功 |
|  5 | **Qwen 3 8B** | 阿里云 | - | - | - | - | ❌ 失败 |
|  6 | **Llama 3.1 8B** | Meta | - | - | - | - | ❌ 失败 |
|  7 | **WizardLM 2 8x22B** | Microsoft | - | - | - | - | ❌ 失败 |
|  8 | **Gemma 2 9B** | Google | - | - | - | - | ❌ 失败 |

## 📈 性能统计

- **平均质量评分**: 85.0/100
- **平均完整性**: 100.0%
- **平均处理时间**: 4.0秒
- **最快模型**: Gemini 2.0 Flash
- **最准确模型**: Gemini 2.0 Flash

## 🔍 字段提取结果对比

### 关键字段横向对比

| 字段名称 | Gemini 2.0 Flash | Qwen 2.5 72B | Mistral Nemo | Claude 3 Haiku |
|----------|----------|----------|----------|----------|
| **发票号码** | `25432000000022020617` | `25432000000022020617` | `25432000000022020617` | `25432000000022020617` |
| **开票日期** | `2025-02-19` | `2025-02-19` | `2025-02-19` | `2025-02-19` |
| **总金额** | `240` | `240` | `240` | `240` |
| **销售方** | `杭州趣链科技有限公司` | `杭州趣链科技有限公司` | `杭州趣链科技有限公司` | `杭州趣链科技有限公司` |
| **购买方** | `娄底市娄星区萝卜餐饮店` | `娄底市娄星区萝卜餐饮店` | `娄底市娄星区萝卜餐饮店` | `娄底市娄星区萝卜餐饮店` |

### 字段提取详细统计

#### Gemini 2.0 Flash (12个字段)

- **发票号码**: `25432000000022020617`
- **开票日期**: `2025-02-19`
- **销售方**: `杭州趣链科技有限公司`
- **购买方**: `娄底市娄星区萝卜餐饮店`
- **总金额**: `240`
- **大写金额**: `贰佰肆拾圆整`
- **税额**: `2.38`
- **税率**: `0.01`
- **商品名称**: `*餐饮服务*餐饮费`
- **发票类型**: `电子发票（普通发票）`
- **销售方税号**: `91330108MA27Y5XH5G`
- **购买方税号**: `92431302MA4QP59721`

#### Qwen 2.5 72B (12个字段)

- **发票号码**: `25432000000022020617`
- **开票日期**: `2025-02-19`
- **销售方**: `杭州趣链科技有限公司`
- **购买方**: `娄底市娄星区萝卜餐饮店`
- **总金额**: `240`
- **大写金额**: `贰佰肆拾圆整`
- **税额**: `2.38`
- **税率**: `0.01`
- **商品名称**: `餐饮服务*餐饮费`
- **发票类型**: `电子发票（普通发票）`
- **销售方税号**: `91330108MA27Y5XH5G`
- **购买方税号**: `92431302MA4QP59721`

#### Mistral Nemo (12个字段)

- **发票号码**: `25432000000022020617`
- **开票日期**: `2025-02-19`
- **销售方**: `杭州趣链科技有限公司`
- **购买方**: `娄底市娄星区萝卜餐饮店`
- **总金额**: `240`
- **大写金额**: `贰佰肆拾圆整`
- **税额**: `2.38`
- **税率**: `0.01`
- **商品名称**: `餐饮服务`
- **发票类型**: `电子发票（普通发票）`
- **销售方税号**: `91330108MA27Y5XH5G`
- **购买方税号**: `92431302MA4QP59721`

#### Claude 3 Haiku (12个字段)

- **发票号码**: `25432000000022020617`
- **开票日期**: `2025-02-19`
- **销售方**: `杭州趣链科技有限公司`
- **购买方**: `娄底市娄星区萝卜餐饮店`
- **总金额**: `240`
- **大写金额**: `贰佰肆拾圆整`
- **税额**: `2.38`
- **税率**: `0.01`
- **商品名称**: `*餐饮服务*餐饮费`
- **发票类型**: `电子发票（普通发票）`
- **销售方税号**: `91330108MA27Y5XH5G`
- **购买方税号**: `92431302MA4QP59721`


## ❌ 失败模型分析

| 模型名称 | 错误原因 | 处理时间 |
|----------|----------|----------|
| **Qwen 3 8B** | API调用失败: 500 - {"success":false,"error":"LLM字段提取失败: LLM返回内容为空","timestamp":"2025-07-28T11:47:35.618Z"} | 21.8s |
| **Llama 3.1 8B** | API调用失败: 500 - {"success":false,"error":"LLM字段提取失败: LLM API调用失败: 404 - {\"error\":{\"message\":\"No endpoints found for meta-llama/llama-3.1-8b-instruct:free.\",\"code\":404},\"user_id\":\"user_2w85xb14vvsLLFM8Y3JaoTDKdDL\"}","timestamp":"2025-07-28T11:48:03.193Z"} | 0.3s |
| **WizardLM 2 8x22B** | API调用失败: 500 - {"success":false,"error":"LLM字段提取失败: LLM API调用失败: 404 - {\"error\":{\"message\":\"No endpoints found for microsoft/wizardlm-2-8x22b:free.\",\"code\":404},\"user_id\":\"user_2w85xb14vvsLLFM8Y3JaoTDKdDL\"}","timestamp":"2025-07-28T11:48:05.525Z"} | 0.3s |
| **Gemma 2 9B** | API调用失败: 500 - {"success":false,"error":"LLM字段提取失败: Unexpected token ':', \":\" is not valid JSON","timestamp":"2025-07-28T11:48:09.663Z"} | 2.2s |

## 🔧 测试环境

- **PDF文本提取**: Supabase Edge Function (PDF.js)
- **LLM API**: OpenRouter
- **测试脚本**: Node.js
- **文档格式**: 中文电子发票
- **提取字段**: 发票号码、日期、金额、公司名称等核心信息

## 📄 PDF文本预览

```
电子发票（普通发票）   发票号码：  开票日期：  销  售  方  信  息  统一社会信用代码/纳税人识别号：  名称： 购  买  方  信  息   统一社会信用代码/纳税人识别号：  名称：  25432000000022020617  2025年02月19日  杭州趣链科技有限公司  91330108MA27Y5XH5G  娄底市娄星区萝卜餐饮店  92431302MA4QP59721  项目名称   规格型号   单   位   数   量   单   价   金   额   税率/征收率   税   额  *餐饮服务*餐饮费   237.62   1%   2.38  价税合...
```

---
*报告生成时间: 2025-07-28 11:48:09*
*测试文件: 25432000000022020617-杭州趣链科技有限公司.pdf*
