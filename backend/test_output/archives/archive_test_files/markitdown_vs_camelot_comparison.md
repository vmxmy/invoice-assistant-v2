# MarkItDown vs Camelot 发票提取对比报告

## 测试概述
对比了两种工具在中文发票提取场景下的表现：
- **MarkItDown**: Microsoft开发的文档转Markdown工具
- **Camelot**: 专门的PDF表格提取库

## 测试结果对比

### MarkItDown表现

#### 优势
- **基础字段提取良好**：
  - 发票号码: 28/28 (100%)
  - 开票日期: 28/28 (100%)
- **Markdown转换成功率高**：所有PDF都成功转换
- **文本布局保留**：能够保留原始文档的文本结构

#### 劣势
- **复杂字段提取率低**：
  - 含税金额: 9/28 (32.1%)
  - 采购方: 15/28 (53.6%)
  - 销售方: 9/28 (32.1%)
  - 项目信息: 8/28 (28.6%)
- **表格结构丢失**：转换为纯文本，无法保留表格结构
- **公司识别准确度一般**：无法准确区分买方和卖方

### Camelot表现（参考之前测试）

#### 优势
- **基础字段完美提取**：
  - 发票号码: 28/28 (100%)
  - 开票日期: 28/28 (100%)
  - 采购方: 28/28 (100%) ✅
- **表格结构保留**：能够识别和保留表格结构
- **处理速度快**：专门针对表格提取优化

#### 劣势
- **复杂字段提取率低**：
  - 含税金额: 9/28 (32.1%)
  - 销售方: 9/28 (32.1%)
  - 项目信息: 8/28 (28.6%)

## 技术对比

| 特性 | MarkItDown | Camelot |
|------|------------|---------|
| 核心功能 | 文档→Markdown转换 | PDF表格提取 |
| 发票号码提取 | 100% | 100% |
| 开票日期提取 | 100% | 100% |
| 采购方提取 | 53.6% | 100% ✅ |
| 销售方提取 | 32.1% | 32.1% |
| 金额提取 | 32.1% | 32.1% |
| 表格结构 | 无 | 有 |
| 处理速度 | 中等 | 快速 |
| 安装复杂度 | 中等（需要多个依赖） | 简单 |

## 具体案例对比

### 测试文件：25432000000022020617-杭州趣链科技有限公司.pdf

#### MarkItDown结果
```
Markdown转换成功
提取数据:
  发票号码: 25432000000022020617 ✓
  开票日期: 2025年02月19日 ✓
  含税金额: 240.00 ✓
  采购方: 杭州趣链科技有限公司 ✓
  销售方: 娄底市娄星区萝卜餐饮店 ✓
  项目信息: 餐饮服务 ✓
```

#### Camelot结果（参考之前测试）
```
表格形状: (11, 4)
提取数据:
  发票号码: 25432000000022020617 ✓
  开票日期: 2025年02月19日 ✓
  含税金额: 240.00 ✓
  采购方: 杭州趣链科技有限公司 ✓
  销售方: 娄底市娄星区萝卜餐饮店 ✓
```

## 分析与建议

### MarkItDown的适用场景
1. **文档内容提取**：当需要提取完整文档内容时
2. **多格式支持**：支持多种文档格式（PDF、Word、PPT等）
3. **文本分析**：需要保留原始文本布局进行分析时

### Camelot的适用场景
1. **表格数据提取**：专注于提取表格中的结构化数据
2. **发票处理**：在发票场景下，采购方提取率达100%
3. **高性能需求**：处理速度快，资源占用低

### 建议方案

对于发票提取任务，**继续使用Camelot + 坐标提取的混合方案**，原因：

1. **核心字段提取率更高**：
   - Camelot在采购方提取上明显优于MarkItDown（100% vs 53.6%）
   - 结合坐标提取后可达到所有关键字段100%提取率

2. **性能优势**：
   - Camelot专门针对表格优化，速度更快
   - 资源占用更少

3. **已有成熟方案**：
   - 当前的混合方案已经过充分测试和优化
   - 无需引入新的依赖和复杂度

### MarkItDown的潜在用途
虽然MarkItDown在发票提取上不如Camelot，但可以考虑用于：
1. 将发票转换为Markdown格式供人工查看
2. 处理其他类型的文档（如合同、报告等）
3. 作为备用方案，处理Camelot无法处理的特殊PDF

## 结论

MarkItDown是一个优秀的文档转换工具，但对于专门的中文发票提取任务，Camelot仍然是更好的选择。特别是在采购方识别这个关键指标上，Camelot的100%成功率远超MarkItDown的53.6%。建议继续使用已优化的Camelot + 坐标提取混合方案。